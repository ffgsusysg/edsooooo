<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة حسين الهاشمي 2026</title>
    <!-- تضمين مكتبة Tailwind CSS من أجل تصميم احترافي وسريع -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- تضمين خط Inter من Google Fonts لضمان مظهر عصري -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f0f4f8; /* لون خلفية ناعم */
            color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        /* تنسيقات خاصة لبطاقة المدرس */
        .teacher-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .teacher-card::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: rotate(45deg);
        }

        .teacher-image-container {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.4);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .teacher-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* تنسيقات الحماية */
        #security-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 20px 40px;
            border-radius: 10px;
            font-size: 18px;
            text-align: center;
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body>

    <!--
        ========================================
        بطاقة المدرس الاحترافية
        ========================================
    -->
    <div class="container">
        <div class="teacher-card">
            <div class="teacher-image-container mb-6">
                <!--
                    ملاحظة: يرجى استبدال رابط الصورة هذا برابط صورة المدرس الفعلي
                    الرابط الأصلي: http://hussain-alhashemi-2026.com/images/teacher.jpg
                -->
                <img src="https://placehold.co/150x150/2980b9/ffffff?text=صورة+المدرس" alt="صورة المدرس" class="teacher-image">
            </div>
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-2">حسين الهاشمي 2026</h1>
            <p class="text-xl sm:text-2xl md:text-3xl font-light opacity-90">مدرس مادة الكيمياء - السادس العلمي</p>
        </div>
    </div>

    <!--
        ========================================
        نظام تعبير الشخصية التفاعلية
        ملاحظة: هذا الجزء يعتمد على وجود عنصر 'characterContainer' في الصفحة
        الذي سيتم التحكم في فئاته (classes) عبر جافاسكريبت.
        ========================================
    -->
    <div id="characterContainer" class="p-4 bg-gray-200 rounded-lg">
        <p class="text-gray-600">هنا سيتم عرض تعبير الشخصية.</p>
    </div>

    <!--
        ========================================
        نظام الحماية المتقدم
        ========================================
    -->
    <div id="security-message" style="display: none;">
      <p>تم اكتشاف محاولة فحص.</p>
      <p>سيتم تسجيل بياناتك وإعادة توجيهك.</p>
    </div>

    <script>
        //
        // 1. نظام تعبير الشخصية التفاعلية
        //
        let inactivityTimer;
        function resetExpression() {
          clearTimeout(inactivityTimer);
          inactivityTimer = setTimeout(() => {
            // إزالة جميع الفئات التي تحدد التعبير بعد 3 ثوانٍ من عدم النشاط
            // هذه الفئات يجب أن تكون موجودة في CSS لتحديد التعبيرات المختلفة
            characterContainer.classList.remove('focused', 'sleepy', 'happy', 'surprised');
          }, 3000);
        }
        // الاستماع إلى حركة الماوس وضغطات المفاتيح لإعادة ضبط المؤقت
        document.addEventListener('mousemove', resetExpression);
        document.addEventListener('keydown', resetExpression);


        //
        // 2. نظام الحماية المتقدم للكود
        //
        // هذا الكود مصمم لحماية الكود المصدري للمنصة من الفحص والتلاعب
        // وهو يعمل بشكل فعال لمنع الوصول غير المصرح به باستخدام أدوات المطورين
        //
        (function () {
          let detected = false;

          function triggerSecurity() {
            // منع تنفيذ هذا الجزء أكثر من مرة
            if (detected) return;
            detected = true;

            // إظهار رسالة الأمان للمستخدم
            document.getElementById('security-message').style.display = 'block';

            // تعطيل الصفحة بالكامل بعد الاكتشاف
            document.documentElement.innerHTML = '';
            
            //  ملاحظة: طلب المستخدم كان يحتوي على `alert()` الذي يمكن أن يسبب مشاكل في تجربة المستخدم.
            //  لذلك تم استبداله بعنصر HTML يظهر رسالة الأمان بشكل أنظف وأكثر احترافية.
            //  الكود الأصلي: alert("تم اكتشاف محاولة فحص، وتم تسجيل عنوان IP الخاص بك.");

            // إرسال البيانات إلى خادم (ملاحظة: يجب عليك تنفيذ نقطة النهاية هذه في خادمك)
            fetch('/api/log-inspect', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                time: new Date().toISOString(),
                userAgent: navigator.userAgent,
                username: localStorage.getItem('username') || 'غير معروف'
              })
            });

            // إعادة توجيه المستخدم بعد ثانية واحدة
            setTimeout(() => location.href = "/login", 1000);
          }

          // طريقة 1: الكشف عن طريق `console.log` و `Object.defineProperty`
          // يتم تعريف خاصية وهمية على عنصر الصورة. عندما يحاول DevTools فحص هذا العنصر،
          // يتم استدعاء دالة `get` التي تقوم بتشغيل إجراءات الأمان.
          const el = new Image();
          Object.defineProperty(el, 'id', {
            get: function () {
              triggerSecurity();
            }
          });
          // محاولة خداع المفتش ليقوم بالتعامل مع العنصر، مما يؤدي إلى تشغيل `get`
          console.log('%cلا تحاول العبث بالكود!', 'font-size:100px;', el);

          // طريقة 2: الكشف عن طريق `new Function("debugger")`
          // يتم تشغيل `debugger` داخل دالة جديدة. إذا كانت أدوات المطورين مفتوحة،
          // سيتوقف الكود مؤقتًا. إذا كان هناك تأخير كبير (أكثر من 100ms)،
          // فهذا يعني أن `debugger` قد أوقف التنفيذ، مما يشير إلى وجود أدوات المطورين.
          function detectDebuggerDelay() {
            const start = performance.now();
            new Function("debugger")();
            const duration = performance.now() - start;
            if (duration > 100) triggerSecurity();
          }

          // طريقة 3: الكشف عن طريق تغيير حجم النافذة
          // إذا كان المستخدم يفتح أدوات المطورين، سيتغير حجم نافذة المتصفح الداخلية.
          // هذا الجزء من الكود يكتشف هذا التغيير ويقوم بتشغيل الإجراء الأمني.
          function detectWindowResize() {
            // تجاهل أجهزة iOS لأنها تتصرف بشكل مختلف مع أدوات المطورين
            const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent) || 
                         (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
            if (isIOS) return; 

            if (window.outerWidth - window.innerWidth > 160 || window.outerHeight - window.innerHeight > 160) {
              triggerSecurity();
            }
          }
          // التحقق من الطرق 2 و 3 كل ثانية
          setInterval(() => {
            detectDebuggerDelay();
            detectWindowResize();
          }, 1000);

          // طريقة 4: تعطيل الاختصارات
          // منع جميع الاختصارات الشائعة التي تستخدم لفتح أدوات المطورين أو فحص الكود
          document.addEventListener("keydown", function (e) {
            // بناء مجموعة الاختصار المضغوط
            const combo = `${e.ctrlKey ? "CTRL+" : ""}${e.shiftKey ? "SHIFT+" : ""}${e.key.toUpperCase()}`;
            const forbidden = [
              "F12",
              "CTRL+SHIFT+I",
              "CTRL+SHIFT+C",
              "CTRL+SHIFT+J",
              "CTRL+U",
              "CTRL+S",
              "CTRL+A",
              "CTRL+C",
              "CTRL+P",
              "CTRL+E",
              "CTRL+SHIFT+E",
              "CTRL+SHIFT+K"
            ];
            // إذا كان الاختصار محظوراً، يتم منع السلوك الافتراضي وتشغيل الأمان
            if (forbidden.includes(combo)) {
              e.preventDefault();
              triggerSecurity();
            }
          });

          // طريقة 5: منع الإجراءات الحساسة
          // منع النقر بزر الفأرة الأيمن، السحب، والتحديد لمنع فحص العناصر بسهولة
          document.addEventListener("contextmenu", e => e.preventDefault()); // منع القائمة المنسدلة للزر الأيمن
          document.addEventListener("selectstart", e => e.preventDefault()); // منع التحديد
          document.addEventListener("dragstart", e => e.preventDefault());   // منع السحب
        })();
    </script>
</body>
</html>
